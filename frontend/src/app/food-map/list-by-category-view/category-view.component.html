<section class="category-view-container" *ngIf="!viewLoading">
    <table class="food-items-table" *ngIf="categorySummaryRows.length > 0">
        <thead>
            <tr>
                <th>Category</th>
                <th>Quantity</th>
                <th>Organization</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let categoryGroup of groupedCategorySummaryRows">
                <tr *ngFor="let row of categoryGroup.rows; let first = first">
                    <td *ngIf="first" [attr.rowspan]="categoryGroup.rows.length" class="category-block"><b>{{ categoryGroup.category }}</b></td>
                    <td>{{ row.quantitySummary }}</td>
                    <td>{{ row.organization }}</td>
                </tr>
            </ng-container>
        </tbody>
    </table>

    <div class="no-items-note" *ngIf="categorySummaryRows.length === 0">
        No food items found for the selected category.
    </div>
</section>
<div class="loading-container" *ngIf="viewLoading">
    <loading-spinner [loadingMessage]="'Loading data...'"></loading-spinner>
</div>